{"name":"Overhead Tile Fade for All Tokens - Toggle Mode","type":"script","author":"8cdP2tRxAPoXP09J","img":"icons/svg/dice-target.svg","scope":"global","command":"/* toggle fade for when hidden tokens are under the tile */\nconst tiles = canvas.foreground.controlled;\nif(tiles.length === 0) return ui.notifications.error(\"You must have a tile selected to activate this macro.\");\n\nlet updateData = [];\nfor(let tile of tiles) {\n  let setting = tile.document.flags['overhead-tile-fade-for-all-tokens']?.mode;\n  let newSetting = (setting !== \"OFF\")? \"OFF\":\"BY_VISIBILITY\";\n   \n  updateData.push({_id: tile.document._id, 'flags.overhead-tile-fade-for-all-tokens.mode': newSetting});\n}\nawait canvas.scene.updateEmbeddedDocuments('Tile', updateData);","flags":{"core":{"sourceId":"Compendium.overhead-tile-fade-for-all-tokens.overhead-tile-fade-for-all-tokens-macros.KNCY3hsFK96BSMJ9"}},"ownership":{"default":0,"Q394i9Sacg2Mm8b2":3,"8cdP2tRxAPoXP09J":3},"_stats":{"systemId":"dnd5e","systemVersion":"1.5.7","coreVersion":"10.260","createdTime":1648087775193,"modifiedTime":1648087775193,"lastModifiedBy":"8cdP2tRxAPoXP09J"},"folder":null,"sort":0,"_id":"WWNG5t1XSU690fNG"}
