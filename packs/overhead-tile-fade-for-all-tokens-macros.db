{"name":"Overhead Tile Fade For All Tokens - Update All Settings","type":"script","img":"icons/svg/dice-target.svg","scope":"global","command":"/* change all of overhead tile fade for all tokens settings for all selected tiles */\nconst tiles = canvas.foreground.controlled;\nif(tiles.length === 0) return ui.notifications.error(\"You must have a tile selected to activate this macro.\");\n\nasync function tileUpdate(data) {\n    console.log(data);\n    for(let tile of tiles) {\n        await canvas.scene.updateEmbeddedDocuments('Tile', [{_id: tile.data._id, 'flags.overhead-tile-fade-for-all-tokens': data}]);\n    }\n}\n\nlet dialogEditor = new Dialog({\n    title: `Faerie Fire Color Picker`,\n    content: `\n        <form>\n            <div class=\"form-group\">\n                <label>Fade This Overhead Tile for All Tokens?</label>\n                <input type=\"checkbox\" name=\"otfdat-activate\" data-dtype=\"Boolean\" />\n            </div>\n            <div class=\"form-group\">\n                <label>Fade For Players When What Tokens is Under the Tile?</label>\n                Friendly: <input type=\"checkbox\" name=\"otfdat-friendly\" data-dtype=\"Boolean\" />\n                Neutral: <input type=\"checkbox\" name=\"otfdat-neutral\" data-dtype=\"Boolean\" />\n                Hostile: <input type=\"checkbox\" name=\"otfdat-hostile\" data-dtype=\"Boolean\" />\n            </div>\n            <div class=\"form-group\">\n                <label>Fade for hidden tokens?</label>\n                <input type=\"checkbox\" name=\"otfdat-hidden\" data-dtype=\"Boolean\" />\n            </div>\n        </form>\n    `,\n    buttons: {\n        close: {\n            icon: \"<i class='fas fa-tick'></i>\",\n            label: `Close`\n        },\n        submit: {\n            label: 'Save',\n            callback: html => {\n                let form = html.find('form');\n                let activate = form.find('input[name=\"otfdat-activate\"').is(':checked');\n                let friendly = form.find('input[name=\"otfdat-friendly\"').is(':checked');\n                let neutral = form.find('input[name=\"otfdat-neutral\"').is(':checked');\n                let hostile = form.find('input[name=\"otfdat-hostile\"').is(':checked');\n                let hidden = form.find('input[name=\"otfdat-hidden\"').is(':checked');\n\n                let data = { activate, friendly, neutral, hostile, hidden };\n                tileUpdate(data);\n            }\n        }\n    },\n    default: \"close\",\n    close: html => console.log(html)\n});\n\ndialogEditor.render(true);","_id":"7dLLlCymt0sySWz0"}
{"name":"Overhead Tile Fade for All Tokens - Toggle Hidden Setting","type":"script","img":"icons/svg/dice-target.svg","scope":"global","command":"/* toggle fade for when hidden tokens are under the tile */\nconst tiles = canvas.foreground.controlled;\nif(tiles.length === 0) return ui.notifications.error(\"You must have a tile selected to activate this macro.\");\n\nfor(let tile of tiles) {\n   let setting = tile.data.flags['overhead-tile-fade-for-all-tokens']?.hidden;\n   \n   await canvas.scene.updateEmbeddedDocuments('Tile', [{_id: tile.data._id, 'flags.overhead-tile-fade-for-all-tokens.hidden': !setting}]);\n}","_id":"KNCY3hsFK96BSMJ9"}
{"name":"Overhead Tile Fade for All Tokens - Toggle Activate Setting","type":"script","img":"icons/svg/dice-target.svg","scope":"global","command":"/* toggle the module for the controlled overhead tile(s) */\nconst tiles = canvas.foreground.controlled;\nif(tiles.length === 0) return ui.notifications.error(\"You must have a tile selected to activate this macro.\");\nconsole.log('jasdf');\n\nfor(let tile of tiles) {\n   let setting = tile.data.flags['overhead-tile-fade-for-all-tokens']?.activate;\n   \n   await canvas.scene.updateEmbeddedDocuments('Tile', [{_id: tile.data._id, 'flags.overhead-tile-fade-for-all-tokens.activate': !setting}]);\n}","_id":"aiKTJJMWbiWSwkTo"}
{"name":"Overhead Tile Fade for All Tokens - Toggle Hostile Setting","type":"script","img":"icons/svg/dice-target.svg","scope":"global","command":"/* toggle fade for when hostiles are under the tile */\nconst tiles = canvas.foreground.controlled;\nif(tiles.length === 0) return ui.notifications.error(\"You must have a tile selected to activate this macro.\");\n\nfor(let tile of tiles) {\n   let setting = tile.data.flags['overhead-tile-fade-for-all-tokens']?.hostile;\n   \n   await canvas.scene.updateEmbeddedDocuments('Tile', [{_id: tile.data._id, 'flags.overhead-tile-fade-for-all-tokens.hostile': !setting}]);\n}","_id":"lVvQWNA3aWG7q9TV"}
{"name":"Overhead Tile Fade for All Tokens - Toggle Neutral Setting","type":"script","img":"icons/svg/dice-target.svg","scope":"global","command":"/* toggle fade for when neutrals are under the tile */\nconst tiles = canvas.foreground.controlled;\nif(tiles.length === 0) return ui.notifications.error(\"You must have a tile selected to activate this macro.\");\n\nfor(let tile of tiles) {\n   let setting = tile.data.flags['overhead-tile-fade-for-all-tokens']?.neutral;\n   \n   await canvas.scene.updateEmbeddedDocuments('Tile', [{_id: tile.data._id, 'flags.overhead-tile-fade-for-all-tokens.neutral': !setting}]);\n}","_id":"o0nbh960Ya89eNsm"}
{"name":"Overhead Tile Fade for All Tokens - Toggle Friendly Setting","type":"script","img":"icons/svg/dice-target.svg","scope":"global","command":"/* toggle fade for when friendlies are under the tile */\nconst tiles = canvas.foreground.controlled;\nif(tiles.length === 0) return ui.notifications.error(\"You must have a tile selected to activate this macro.\");\n\nfor(let tile of tiles) {\n   let setting = tile.data.flags['overhead-tile-fade-for-all-tokens']?.friendly;\n   \n   await canvas.scene.updateEmbeddedDocuments('Tile', [{_id: tile.data._id, 'flags.overhead-tile-fade-for-all-tokens.friendly': !setting}]);\n}","_id":"z0hzKu5Kshm12KhI"}
